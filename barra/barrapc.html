<div id="menu-container">
    <header>
        <!-- Logo -->
        <div class="logo">
            cargitx Blog
            <i class="fas fa-chevron-down"></i>
        </div>

        <!-- Barra desplegable horizontal -->
        <div class="menu-horizontal">
            <div class="dropdown">Inicio
                <i class="fas fa-chevron-down"></i>
                <div class="dropdown-content">
                    <a href="/">Cargitx blog</a>
                    <a href="/es/web/quienes-somos">Quienes somos</a>
                    <a href="/es/web/contacto">Contactanos</a>
                </div>
            </div>
            <div class="dropdown">Recursos
                <i class="fas fa-chevron-down"></i>
                <div class="dropdown-content">
                    <a href="/es/noticia">Cargitx Noticias</a>
                    <a href="/es/extra">Cargitx Extra</a>
                </div>
            </div>
            <div class="dropdown">Idioma
                <i class="fas fa-chevron-down"></i>
                <div class="dropdown-content">
                    <a href="/" class="dropdown-item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Bandera_de_Espa%C3%B1a.svg" alt="Español" width="30" height="15"> Español
                    </a>
                    <a href="/en" class="dropdown-item">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Flag_of_the_United_States_%28Web_Colors%29.svg/330px-Flag_of_the_United_States_%28Web_Colors%29.svg.png" alt="English" width="30" height="15"> English
                    </a>
                </div>
            </div>
        </div>

        <a href="/inicio-test" class="btn">iniciar test</a>
    </header>
</div>


<script>
// Variables
const logo = document.querySelector('#menu-container .logo');
const menuHorizontal = document.querySelector('#menu-container .menu-horizontal');
const arrowIcon = document.querySelector('#menu-container .logo i');
const dropdowns = document.querySelectorAll('#menu-container .dropdown');

let isMenuOpen = false;

// Función para abrir y cerrar el menú horizontal al hacer clic en el logo
logo.addEventListener('click', () => {
    isMenuOpen = !isMenuOpen;  // Alternar estado del menú
    menuHorizontal.classList.toggle('active', isMenuOpen);
    arrowIcon.classList.toggle('fa-chevron-up', isMenuOpen); 
    arrowIcon.classList.toggle('fa-chevron-down', !isMenuOpen); 
});

// Agregar interactividad a los elementos del menú (para desplegar submenús)
dropdowns.forEach(dropdown => {
    const arrow = dropdown.querySelector('i');

    dropdown.addEventListener('click', (event) => {
        // Si se hizo clic en un enlace <a>, permitir la navegación
        if (event.target.tagName.toLowerCase() === 'a') return;

        event.preventDefault();  // Prevenir acción solo si no es un enlace

        // Cerrar otros submenús
        dropdowns.forEach(otherDropdown => {
            if (otherDropdown !== dropdown) {
                otherDropdown.classList.remove('active');
                otherDropdown.querySelector('i').classList.remove('fa-chevron-up');
                otherDropdown.querySelector('i').classList.add('fa-chevron-down');
            }
        });

        // Alternar el submenú de cada ítem
        dropdown.classList.toggle('active');
        arrow.classList.toggle('fa-chevron-up');
        arrow.classList.toggle('fa-chevron-down');
    });
});

// Cerrar el menú cuando el mouse salga del área de la barra
menuHorizontal.addEventListener('mouseleave', () => {
    if (!isMenuOpen) {
        menuHorizontal.classList.remove('active');
        arrowIcon.classList.remove('fa-chevron-up');
        arrowIcon.classList.add('fa-chevron-down');
    }
});
</script>

</body>

