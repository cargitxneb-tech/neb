<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Fuentes y otros recursos -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Enlace a tu archivo CSS externo -->
    <link rel="stylesheet" href="barra/barra.css">
</head>
<body>

    <!-- Anuncio -->
    <div class="anuncio">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8980056699793558" crossorigin="anonymous"></script>
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8980056699793558" data-ad-slot="8577461929" data-ad-format="auto" data-full-width-responsive="true"></ins>
        <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script>
    </div>

  <!-- Contenedores donde se cargará el contenido del menú -->
    <div id="menu-container"></div>
    <div id="menu2-container"></div>

 <script>
  // Comprobamos si ya se ha cargado el contenido anteriormente (usando localStorage)
  if (!localStorage.getItem('barraLoaded')) {
    // Cargar el primer contenido y el script de barra.js
    fetch("barra/barrapc.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("menu-container").innerHTML = data;

        // Cargar el script una sola vez
        const script = document.createElement('script');
        script.src = 'barra/barra.js';
        script.onload = () => {
          console.log("barra.js cargado después del header.");
          if (typeof initMenu === "function") {
            initMenu(); // Inicializa el menú si está disponible
          }
        };
        document.body.appendChild(script);

        // Marcar que ya se ha cargado para evitar futuras recargas
        localStorage.setItem('barraLoaded', 'true');
      })
      .catch(error => console.error('Error al cargar el header:', error));
  }

  // Cargar el segundo contenido y el script para el menú 2
  fetch("barra/barra.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("menu2-container").innerHTML = data;

      const script = document.createElement('script');
      script.src = 'barra/barra.js';
      script.onload = () => {
        console.log("barra.js cargado después del header.");
        if (typeof initMenu2 === "function") {
          initMenu2(); // Inicializa el menú 2 si está disponible
        }
      };
      document.body.appendChild(script);
    })
    .catch(error => console.error('Error al cargar el header:', error));
</script>

    
</body>
</html>
